service:
    name: glance-registry
    ports:
        - glance_registry_port
    # TODO(sreshetniak): add probes
    container:
        node-selector:
            openstack-controller: "true"
    probes:
        readiness: "true"
        liveness: "true"
    daemon:
        name: glance-registry
        files:
            - glance-registry-conf
        dependencies:
            - glance-api
        command: glance-registry

files:
    glance-registry-conf:
        path: /etc/glance/glance-registry.conf
        content: glance-registry.conf.j2
